{"id": 13, "timestamp": "2025-05-16T17:05:52.235265", "source": "agent", "message": "Code executed in IPython cell.", "cause": 12, "observation": "run_ipython", "tool_call_metadata": {"function_name": "execute_ipython_cell", "tool_call_id": "call_HlTE07Pn7HklXYcxuBxIpA7h", "model_response": {"id": "chatcmpl-BXxTWnz27A2ldFInsyN2uZzzrnSFO", "created": 1747433146, "model": "gpt-4.1-2025-04-14", "object": "chat.completion", "system_fingerprint": "fp_b38e740b47", "choices": [{"finish_reason": "tool_calls", "index": 0, "message": {"content": null, "role": "assistant", "tool_calls": [{"function": {"arguments": "{\"code\":\"# Extract more relevant details from the paper for the MoverScore algorithm, especially the method section\\n# Let's extract and print the first 10,000 characters to get the method and formula details\\ntext[:10000]\"}", "name": "execute_ipython_cell"}, "id": "call_HlTE07Pn7HklXYcxuBxIpA7h", "type": "function"}], "function_call": null, "annotations": []}}], "usage": {"completion_tokens": 60, "prompt_tokens": 6658, "total_tokens": 6718, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 6016}}, "service_tier": "default"}, "total_calls_in_response": 1}, "content": "'Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing\\nand the 9th International Joint Conference on Natural Language Processing , pages 563\u2013578,\\nHong Kong, China, November 3\u20137, 2019. c\\r2019 Association for Computational Linguistics563MoverScore: Text Generation Evaluating with Contextualized\\nEmbeddings and Earth Mover Distance\\nWei Zhaoy, Maxime Peyrardy, Fei Liuz, Yang Gaoy, Christian M. Meyery, Steffen Egery\\nyComputer Science Department, Technische Universit \u00a8at Darmstadt, Germany\\nzComputer Science Department, University of Central Florida, US\\nzhao@aiphes.tu-darmstadt.de, maxime.peyrard@epfl.ch\\nfeiliu@cs.ucf.edu, yang.gao@rhul.ac.uk\\nmeyer@ukp.informatik.tu-darmstadt.de\\neger@aiphes.tu-darmstadt.de\\nAbstract\\nA robust evaluation metric has a profound im-\\npact on the development of text generation sys-\\ntems. A desirable metric compares system out-\\nput against references based on their seman-\\ntics rather than surface forms. In this paper\\nwe investigate strategies to encode system and\\nreference texts to devise a metric that shows a\\nhigh correlation with human judgment of text\\nquality. We validate our new metric, namely\\nMoverScore, on a number of text generation\\ntasks including summarization, machine trans-\\nlation, image captioning, and data-to-text gen-\\neration, where the outputs are produced by\\na variety of neural and non-neural systems.\\nOur \ufb01ndings suggest that metrics combining\\ncontextualized representations with a distance\\nmeasure perform the best. Such metrics also\\ndemonstrate strong generalization capability\\nacross tasks. For ease-of-use we make our\\nmetrics available as web service.1\\n1 Introduction\\nThe choice of evaluation metric has a signi\ufb01cant\\nimpact on the assessed quality of natural language\\noutputs generated by a system. A desirable met-\\nric assigns a single, real-valued score to the sys-\\ntem output by comparing it with one or more ref-\\nerence texts for content matching. Many natural\\nlanguage generation (NLG) tasks can bene\ufb01t from\\nrobust and unbiased evaluation, including text-\\nto-text ( machine translation andsummarization ),\\ndata-to-text ( response generation ), and image-to-\\ntext ( captioning ) (Gatt and Krahmer, 2018). With-\\nout proper evaluation, it can be dif\ufb01cult to judge\\non system competitiveness, hindering the develop-\\nment of advanced algorithms for text generation.\\nIt is an increasingly pressing priority to develop\\nbetter evaluation metrics given the recent advances\\nin neural text generation. Neural models provide\\n1Our code is publicly available at http://tiny.cc/vsqtbzthe \ufb02exibility to copy content from source text as\\nwell as generating unseen words (See et al., 2017).\\nThis aspect is hardly covered by existing metrics.\\nWith greater \ufb02exibility comes increased demand\\nfor unbiased evaluation. Diversity-promoting ob-\\njectives make it possible to generate diverse nat-\\nural language descriptions (Li et al., 2016; Wise-\\nman et al., 2018). But standard evaluation met-\\nrics including BLEU (Papineni et al., 2002) and\\nROUGE (Lin, 2004) compute the scores based pri-\\nmarily on n-gram co-occurrence statistics, which\\nare originally proposed for diagnostic evaluation\\nof systems but not capable of evaluating text qual-\\nity (Reiter, 2018), as they are not designed to mea-\\nsure if, and to what extent, the system and refer-\\nence texts with distinct surface forms have con-\\nveyed the same meaning. Recent effort on the ap-\\nplicability of these metrics reveals that while com-\\npelling text generation system ascend on standard\\nmetrics, the text quality of system output is still\\nhard to be improved (B \u00a8ohm et al., 2019).\\nOur goal in this paper is to devise an auto-\\nmated evaluation metric assigning a single holistic\\nscore to any system-generated text by comparing\\nit against human references for content matching.\\nWe posit that it is crucial to provide a holistic mea-\\nsure attaining high correlation with human judg-\\nments so that various neural and non-neural text\\ngeneration systems can be compared directly. In-\\ntuitively, the metric assigns a perfect score to the\\nsystem text if it conveys the same meaning as the\\nreference text. Any deviation from the reference\\ncontent can then lead to a reduced score, e.g., the\\nsystem text contains more (or less) content than\\nthe reference, or the system produces ill-formed\\ntext that fails to deliver the intended meaning.\\nWe investigate the effectiveness of a spectrum\\nof distributional semantic representations to en-\\ncode system and reference texts, allowing them\\nto be compared for semantic similarity across\\n564multiple natural language generation tasks. Our\\nnew metric quanti\ufb01es the semantic distance be-\\ntween system and reference texts by harnessing\\nthe power of contextualized representations (Pe-\\nters et al., 2018; Devlin et al., 2018) and a power-\\nful distance metric (Rubner et al., 2000) for better\\ncontent matching. Our contributions can be sum-\\nmarized as follows:\\n\\x0fWe formulate the problem of evaluating genera-\\ntion systems as measuring the semantic distance\\nbetween system and reference texts, assuming\\npowerful continuous representations can encode\\nany type of semantic and syntactic deviations.\\n\\x0fWe investigate the effectiveness of existing con-\\ntextualized representations and Earth Mover\u2019s\\nDistance (Rubner et al., 2000) for comparing\\nsystem predictions and reference texts, lead-\\ning to our new automated evaluation metric\\nthat achieves high correlation with human judg-\\nments of text quality.\\n\\x0fOur metric outperforms or performs compara-\\nbly to strong baselines on four text generation\\ntasks including summarization, machine trans-\\nlation, image captioning, and data-to-text gen-\\neration, suggesting this is a promising direction\\nmoving forward.\\n2 Related Work\\nIt is of fundamental importance to design evalua-\\ntion metrics that can be applied to natural language\\ngeneration tasks of similar nature, including sum-\\nmarization, machine translation, data-to-text gen-\\neration, image captioning, and many others. All\\nthese tasks involve generating texts of sentence or\\nparagraph length. The system texts are then com-\\npared with one or more reference texts of similar\\nlength for semantic matching, whose scores indi-\\ncate how well the systems perform on each task.\\nIn the past decades, however, evaluation of these\\nnatural language generation tasks has largely been\\ncarried out independently within each area.\\nSummarization A dominant metric for summa-\\nrization evaluation is ROUGE (Lin, 2004), which\\nmeasures the degree of lexical overlap between a\\nsystem summary and a set of reference summaries.\\nIts variants consider overlap of unigrams ( -1), bi-\\ngrams ( -2), unigrams and skip bigrams with a max-\\nimum gap of 4 words ( -SU4), longest common sub-\\nsequences ( -L) and its weighted version ( -W-1.2 ),\\namong others. Metrics such as Pyramid (Nenkova\\nand Passonneau, 2004) and BE (Hovy et al., 2006;Tratz and Hovy, 2008) further compute matches\\nof content units, e.g., (head-word, modi\ufb01er) tu-\\nples, that often need to be manually extracted\\nfrom reference summaries. These metrics achieve\\ngood correlations with human judgments in the\\npast. However, they are not general enough to ac-\\ncount for the relatedness between abstractive sum-\\nmaries and their references, as a system abstract\\ncan convey the same meaning using different sur-\\nface forms. Furthermore, large-scale summariza-\\ntion datasets such as CNN/Daily Mail (Hermann\\net al., 2015) and Newsroom (Grusky et al., 2018)\\nuse a single reference summary, making it harder\\nto obtain unbiased results when only lexical over-\\nlap is considered during summary evaluation.\\nMachine Translation A number of metrics are\\ncommonly used in MT evaluation. Most of these\\nmetrics compare system and reference translations\\nbased on surface forms such as word/character\\nn-gram overlaps and edit distance, but not the\\nmeanings they convey. BLEU (Papineni et al.,\\n2002) is a precision metric measuring how well a\\nsystem translation overlaps with human reference\\ntranslations using n-gram co-occurrence statistics.\\nOther metrics include SentBLEU, NIST, chrF,\\nTER, WER, PER, CDER, and METEOR (Lavie\\nand Agarwal, 2007) that are used and described in\\nthe WMT metrics shared task (Bojar et al., 2017;\\nMa et al., 2018). RUSE (Shimanaka et al., 2018) is\\na recent effort to improve MT evaluation by train-\\ning sentence embeddings on large-scale data ob-\\ntained in other tasks. Additionally, preprocessing\\nreference texts is crucial in MT evaluation, e.g.,\\nnormalization, tokenization, compound splitting,\\netc. If not handled properly, different preprocess-\\ning strategies can lead to inconsistent results using\\nword-based metrics (Post, 2018).\\nData-to-text Generation BLEU can be poorly\\nsuited to evaluating data-to-text systems such as\\ndialogue response generation and image caption-\\ning. These systems are designed to generate texts\\nwith lexical and syntactic variation, communicat-\\ning the same information in many different ways.\\nBLEU and similar metrics tend to reward systems\\nthat use the same wording as reference texts, caus-\\ning repetitive word usage that is deemed undesir-\\nable to humans (Liu et al., 2016). In a similar vein,\\nevaluating the quality of image captions can be\\nchallenging. CIDEr (Vedantam et al., 2015) uses\\ntf-idf weighted n-grams for similarity estimation;\\nand SPICE (Anderson et al., 2016) incorporates\\n565synonym matching over scene graphs. Novikova\\net al. (2017) examine a large number of word- and\\ngrammar-based metrics and demonstrate that they\\nonly weakly re\ufb02ect human judgments of system\\noutputs generated by data-driven, end-to-end nat-\\nural language generation systems.\\nMetrics based on Continuous Representations\\nMoving beyond traditional metrics, we envision\\na new generation of automated evaluation metrics\\ncomparing system and reference texts based on se-\\nmantics rather than surface forms to achieve better\\ncorrelation with human judgments. A number of\\nprevious studies exploit static word embeddings\\n(Ng and Abrecht, 2015; Lo, 2017) and trained\\nclassifers (Peyrard et a'\n[Jupyter current working directory: /workspace/benchmark/datasets]\n[Jupyter Python interpreter: /openhands/poetry/openhands-ai-5O4_aCHf-py3.12/bin/python]", "extras": {"code": "# Extract more relevant details from the paper for the MoverScore algorithm, especially the method section\n# Let's extract and print the first 10,000 characters to get the method and formula details\ntext[:10000]"}, "success": true}